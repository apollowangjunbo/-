# 《代码大全2》第六章 “可以工作的类” 读书笔记

成为高效程序员的一个关键就在于，当你开发程序任一部分的代码时，都能安全地忽视程序中尽可能多的其余部分。而类就是实现这一目标的首要工具。

## 6.1类的基础：抽象数据类型（ADTs）

* 抽象数据类型(ADT，abstract data type）是指一些数据以及对这些数据所进行的操作的集合。
* 使用抽象数据类型的益处：可以隐藏实现细节、改动不会影响到整个程序、让接口提供更多信息、更容易提高性能、让程序的正确性更显而易见、程序更具自我说明性、无需在程序内到处传递数据、像在现实世界中那样操作实体。
* 类=抽象数据类型+继承+多态
  
## 6.2良好的类接口

* 类的接口应该展现一致的抽象层次
* 尽可能让接口可编程：一个接口中任何无法通过编译器强制实施的部分，就是一个可能被误用的部分
* 尽可能地限制类和成员的可访问性
* 不要公开暴露成员和数据
  
``` 读后感
类的接口能够帮助使用者快速理解这个类的设计初衷
编码过程中注意思考对外提供哪些接口、接口如何命名、可访问性如何、注释等可以降低代码的阅读难度
```

## 6.3有关设计和实现的问题

### 包含

* “包含”表示一个类含有一个基本的数据元素或对象，是面向对象编程中的主力技术
* 对于数据成员超过7个的类，考虑要不要把这些数据成员分解为几个更小的类

### 继承

* “继承”是说一个类是另一个累的特化，继承时应该考虑成员函数是否对派生类可见、是否允许被覆盖，数据成员是否对派生类可见。
* 错误的继承给程序增加了复杂度，只有符合Liskov替换原则的继承才能降低复杂度。
* 继承的层次最好不要超过2-3层，派生类的数量最好不要超过7个

``` 读后感
相对于包含而言，继承有更多地注意事项，使用时有更多需要考虑清楚的事项，从控制复杂度的角度来看，应尽量避免使用继承
```

### 成员函数和数据成员

略

### 构造函数

* 尽可能早构造函数中初始化所有数据成员（防御目的）
* 单例模式下构造函数private
* 拷贝构造逐一考虑采用深拷贝
  
## 6.4创建类的原因

创建类的理由：

1. 对现实世界中的对象建模
2. 对抽象对象建模
3. 降低复杂度
4. 隔离复杂度
5. 隐藏实现细节
6. 限制变化所影响的范围
7. 隐藏全局数据
8. 让参数传递更顺畅
9. 创建中心控制点
10. 让代码更易于重用
11. 为程序族做计划
12. 把相关操作放到一起
13. 实现特定的重构

## 6.5与具体编程语言相关的问题

略

## 6.6超越类：包

略
